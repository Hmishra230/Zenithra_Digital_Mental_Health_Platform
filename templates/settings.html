{% extends "base.html" %}

{% block content %}
<div class="min-h-screen bg-gray-50 py-12">
    <div class="container mx-auto px-6">
        <div class="max-w-4xl mx-auto">
            <!-- Header -->
            <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                <h1 class="text-3xl font-bold text-gray-900 flex items-center">
                    <i data-lucide="settings" class="w-8 h-8 mr-3 text-gray-600"></i>
                    Settings
                </h1>
                <p class="text-gray-600 mt-2 hindi-text">अपनी प्राथमिकताएं प्रबंधित करें</p>
            </div>

            <form method="POST" action="/settings">
                <!-- Notification Settings -->
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <i data-lucide="bell" class="w-6 h-6 mr-3 text-blue-600"></i>
                        Notification Preferences
                    </h2>
                    
                    <div class="space-y-6">
                        <label class="flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition duration-200 cursor-pointer">
                            <div class="flex items-center space-x-4">
                                <i data-lucide="mail" class="w-5 h-5 text-gray-600"></i>
                                <div>
                                    <div class="font-semibold">Email Notifications</div>
                                    <div class="text-sm text-gray-600">Receive updates via email</div>
                                </div>
                            </div>
                            <input 
                                type="checkbox" 
                                name="email_notifications" 
                                {% if user and user.email_notifications %}checked{% endif %}
                                class="toggle-checkbox"
                            >
                        </label>

                        <label class="flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition duration-200 cursor-pointer">
                            <div class="flex items-center space-x-4">
                                <i data-lucide="smartphone" class="w-5 h-5 text-gray-600"></i>
                                <div>
                                    <div class="font-semibold">SMS Notifications</div>
                                    <div class="text-sm text-gray-600">Receive text messages</div>
                                </div>
                            </div>
                            <input 
                                type="checkbox" 
                                name="sms_notifications" 
                                {% if user and user.sms_notifications %}checked{% endif %}
                                class="toggle-checkbox"
                            >
                        </label>

                        <label class="flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition duration-200 cursor-pointer">
                            <div class="flex items-center space-x-4">
                                <i data-lucide="monitor" class="w-5 h-5 text-gray-600"></i>
                                <div>
                                    <div class="font-semibold">Push Notifications</div>
                                    <div class="text-sm text-gray-600">Browser push notifications</div>
                                </div>
                            </div>
                            <input 
                                type="checkbox" 
                                name="push_notifications" 
                                {% if user and user.push_notifications %}checked{% endif %}
                                class="toggle-checkbox"
                            >
                        </label>
                    </div>
                </div>

                <!-- Privacy Settings -->
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <i data-lucide="shield" class="w-6 h-6 mr-3 text-green-600"></i>
                        Privacy & Security
                    </h2>
                    
                    <div class="space-y-6">
                        <label class="flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition duration-200 cursor-pointer">
                            <div class="flex items-center space-x-4">
                                <i data-lucide="eye" class="w-5 h-5 text-gray-600"></i>
                                <div>
                                    <div class="font-semibold">Public Profile</div>
                                    <div class="text-sm text-gray-600">Make your profile visible to others</div>
                                </div>
                            </div>
                            <input 
                                type="checkbox" 
                                name="profile_public" 
                                {% if user and user.profile_public %}checked{% endif %}
                                class="toggle-checkbox"
                            >
                        </label>

                        <label class="flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition duration-200 cursor-pointer">
                            <div class="flex items-center space-x-4">
                                <i data-lucide="activity" class="w-5 h-5 text-gray-600"></i>
                                <div>
                                    <div class="font-semibold">Show Online Status</div>
                                    <div class="text-sm text-gray-600">Let others see when you're online</div>
                                </div>
                            </div>
                            <input 
                                type="checkbox" 
                                name="show_online_status" 
                                {% if user and user.show_online_status %}checked{% endif %}
                                class="toggle-checkbox"
                            >
                        </label>
                    </div>
                </div>

                <!-- Language Settings -->
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <i data-lucide="globe" class="w-6 h-6 mr-3 text-purple-600"></i>
                        Language & Region
                    </h2>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label for="language" class="block text-sm font-medium text-gray-700 mb-2">Preferred Language</label>
                            <select name="language" id="language" class="block w-full rounded-xl border border-gray-300 p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <option value="en">English</option>
                                <option value="hi" {% if user and user.language == 'hi' %}selected{% endif %}>हिन्दी (Hindi)</option>
                                <option value="bn">বাংলা (Bengali)</option>
                                <option value="ta">தமிழ் (Tamil)</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="timezone" class="block text-sm font-medium text-gray-700 mb-2">Timezone</label>
                            <select name="timezone" id="timezone" class="block w-full rounded-xl border border-gray-300 p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <option value="Asia/Kolkata">India Standard Time (IST)</option>
                                <option value="Asia/Dubai">Gulf Standard Time (GST)</option>
                                <option value="UTC">Coordinated Universal Time (UTC)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex justify-between items-center">
                    <a href="/" class="text-gray-600 hover:text-gray-800 flex items-center space-x-2">
                        <i data-lucide="arrow-left" class="w-4 h-4"></i>
                        <span>Back to Dashboard</span>
                    </a>
                    <button 
                        type="submit" 
                        class="bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white px-8 py-3 rounded-xl font-semibold transition duration-300 flex items-center space-x-2"
                    >
                        <i data-lucide="save" class="w-5 h-5"></i>
                        <span>Save Settings</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
.toggle-checkbox {
    appearance: none;
    width: 3rem;
    height: 1.5rem;
    background-color: #e5e7eb;
    border-radius: 0.75rem;
    position: relative;
    cursor: pointer;
    transition: background-color 0.3s;
}

.toggle-checkbox:checked {
    background-color: #3b82f6;
}

.toggle-checkbox::before {
    content: '';
    position: absolute;
    width: 1.25rem;
    height: 1.25rem;
    border-radius: 50%;
    background-color: white;
    top: 0.125rem;
    left: 0.125rem;
    transition: transform 0.3s;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.toggle-checkbox:checked::before {
    transform: translateX(1.5rem);
}
</style>
{% endblock %}
